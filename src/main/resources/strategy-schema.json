{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "strategy.schema.json",
  "title": "Strategy DSL",
  "type": "object",
  "required": ["name", "params"],
  "properties": {
    "name": { "type": "string" },
    "description": { "type": "string", "default": "" },
    "params": {
      "type": "object",
      "properties": {
        "emaShort": { "type": "integer", "minimum": 1, "maximum": 500, "default": 20 },
        "emaLong": { "type": "integer", "minimum": 1, "maximum": 500, "default": 50 },
        "macdFast": { "type": "integer", "minimum": 1, "maximum": 200, "default": 12 },
        "macdSlow": { "type": "integer", "minimum": 1, "maximum": 400, "default": 26 },
        "macdSignal": { "type": "integer", "minimum": 1, "maximum": 200, "default": 9 },
        "atrPeriod": { "type": "integer", "minimum": 2, "maximum": 200, "default": 14 },
        "atrMult": { "type": "number", "minimum": 0.1, "maximum": 20, "default": 2.0 },
        "targetVol": { "type": "number", "minimum": 0.0, "maximum": 1.0, "default": 0.15 },
        "minPatternScore": { "type": "number", "minimum": 0.0, "maximum": 1.0, "default": 0.5 },
        "patterns": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "weight": { "type": "number", "minimum": 0.0, "maximum": 5.0, "default": 1.0 }
            },
            "required": ["weight"],
            "additionalProperties": false
          },
          "default": {}
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}


